<% form_tag feeds_path, :id => "text_filter_form", :onsubmit => "return false" do -%>
  <%= search_field_tag "text_filter", params[:text_filter], :placeholder => _(:feeds_header_search_placeholder) %>
<% end -%>

<div class="order clearfix">
  <label><%= _(:sort_label) %></label>        
  <select id="order">
    <option value="title"><%= _(:feeds_header_title) %></option>
    <option value="globally_excluded"><%= _(:feeds_header_globally_exclude) %></option>
    <option value="feed_items_count"><%= _(:feeds_header_items) %></option>
    <option value="created_on"><%= _(:feeds_header_created) %></option>
    <option value="updated_on"><%= _(:feeds_header_last_updated) %></option>
  </select>
  <%= link_to_function "<span class='asc'>Ascending</span><span class='desc'>Descending</span>", "", :id => "direction" %>
</div>
  
<div class="toolbar right">
  <%= rounded_button_function _(:feeds_header_add_import), "$('add_feed').toggle()", :icon => "add" %>
</div>

<div id="add_feed" style="clear:both;<%= flash[:error] || params[:feed] ? '' : 'display:none' %>">
  <fieldset class="full">
    <legend><%= _(:feeds_add_import) %></legend>
    <% form_for :feed, @feed, :url => feeds_path do |f| %>
      <p><%= _(:feeds_new_description) %></p>
      <p>
        <%= f.text_field :url, :size => 70 %>
        <%= submit_tag _(:add_feed_button) %> 
      </p>
    <% end %>

    <% form_tag import_feeds_path, :method => :post, :multipart => true do -%>
      <p><%= _(:feeds_import_description) %></p>
      <p>
        <%= file_field_tag 'opml', :size => 60 %>
        <%= submit_tag _(:upload) %> 
      </p>
    <% end -%>
    
    <p><%= _(:feeds_new_bookmarklet_description) %></p>
    
    <%= link_to _(:feeds_add_to_winnow), bookmarklet_js, :class => "bookmarklet", :title => _(:feeds_add_to_winnow), 
                  :onclick => "Message.add('error', #{_(:feeds_bookmarklet_js_error_message).to_json}); return false;" %>
  </fieldset>
</div>
