load File.join(RAILS_ROOT, 'test', 'selenium_helper.rb')

setup :fixtures => [:users]

Tag.delete_all
tag_1 = Tag.create! valid_tag_attributes(:user_id => User.find_by_login("quentin").id, :public => true)
tag_2 = Tag.create! valid_tag_attributes(:user_id => User.find_by_login("aaron").id, :public => true)

login
open "/tags/public"

assert_element_disabled "#subscribe_tag_#{tag_1.id}"
assert_element_enabled "#subscribe_tag_#{tag_2.id}"

assert_not_checked "subscribe_tag_#{tag_1.id}"
click "subscribe_tag_#{tag_1.id}"
assert_not_checked "subscribe_tag_#{tag_1.id}"